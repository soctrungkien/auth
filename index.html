<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auth</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } 
      from "https://www.gstatic.com/firebasejs/10.13.2/firebase-auth.js";

// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyDThCGRMInMILRxSUBKqR-uk1NJQ0n3VZg",
  authDomain: "auth-c1978.firebaseapp.com",
  projectId: "auth-c1978",
  storageBucket: "auth-c1978.firebasestorage.app",
  messagingSenderId: "199642465896",
  appId: "1:199642465896:web:ddcff4ba3c208a51229ddd",
  measurementId: "G-5K1RH1EGG3"
};

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    function showAlert(type, message) {
      const box = document.getElementById("alert-box");
      box.innerHTML = `
        <div class="flex items-center p-3 rounded-lg text-sm font-medium
          ${type === "error" ? "bg-red-500/80 text-white" : "bg-green-500/80 text-white"}">
          ${type === "error" ? "<img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXgtaWNvbiBsdWNpZGUteCI+PHBhdGggZD0iTTE4IDYgNiAxOCIvPjxwYXRoIGQ9Im02IDYgMTIgMTIiLz48L3N2Zz4="/>" : "<img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZWNrLWljb24gbHVjaWRlLWNoZWNrIj48cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiLz48L3N2Zz4="/>"} 
          <span class="ml-2">${message}</span>
        </div>
      `;
      box.classList.remove("hidden");
      setTimeout(() => box.classList.add("hidden"), 3000);
    }

async function doLogin() {
  const email = document.getElementById("login-email").value + "@app.local";
  const pass = document.getElementById("login-password").value;
  try {
    await signInWithEmailAndPassword(auth, email, pass);
    showAlert("success", "Login thÃ nh cÃ´ng");
  } catch (err) {
    showAlert("error", err.message);
  }
}

async function doSignup() {
  const email = document.getElementById("reg-email").value + "@app.local";
  const pass = document.getElementById("reg-password").value;
  try {
    await createUserWithEmailAndPassword(auth, email, pass);
    showAlert("success", "ÄÄƒng kÃ½ thÃ nh cÃ´ng, giá» hÃ£y login!");
    switchTab("login");
  } catch (err) {
    showAlert("error", err.message);
  }
}

function switchTab(tab) {
  document.getElementById("login-form").classList.add("hidden");
  document.getElementById("register-form").classList.add("hidden");
  document.getElementById(tab + "-form").classList.remove("hidden");

  document.getElementById("tab-login").classList.remove("text-gray-400", "text-white");
  document.getElementById("tab-register").classList.remove("text-gray-400", "text-white");

  if (tab === "login") {
    document.getElementById("tab-login").classList.add("text-white");
    document.getElementById("tab-register").classList.add("text-gray-400");
  } else {
    document.getElementById("tab-register").classList.add("text-white");
    document.getElementById("tab-login").classList.add("text-gray-400");
  }
}

// ðŸ”— Gáº¯n sá»± kiá»‡n
document.getElementById("login-btn").addEventListener("click", doLogin);
document.getElementById("register-btn").addEventListener("click", doSignup);
document.getElementById("tab-login").addEventListener("click", () => switchTab("login"));
document.getElementById("tab-register").addEventListener("click", () => switchTab("register"));

// Show login máº·c Ä‘á»‹nh
switchTab("login");
  </script>
</head>
<body class="flex items-center justify-center min-h-screen bg-gradient-to-br from-green-600 via-lime-600 to-emerald-700">

  <!-- Alert -->
  <div id="alert-box" class="fixed top-4 inset-x-0 flex justify-center hidden z-50"></div>

  <!-- Card -->
  <div class="w-96 p-8 rounded-2xl bg-white/10 backdrop-blur-lg shadow-xl border border-white/20">

    <!-- Icon -->
    <div class="flex justify-center mb-4">
      <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-gradient-to-r from-green-400 to-blue-500 text-white text-xl">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-key-round-icon lucide-key-round"><path d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"/><circle cx="16.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      </div>
    </div>

    <!-- Tabs -->
    <div class="flex justify-center space-x-8 mb-6">
      <button id="tab-login" class="font-semibold text-white">Login</button>
      <button id="tab-register" class="font-semibold text-gray-400">Register</button>
    </div>

    <!-- Login Form -->
    <div id="login-form">
      <h2 class="text-center text-xl font-bold text-white mb-4">Login</h2>
      <div class="mb-4">
        <input id="login-email" type="email" placeholder="Username"
          class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-green-400">
      </div>
      <div class="mb-6">
        <input id="login-password" type="password" placeholder="Password"
          class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-green-400">
      </div>
      <button class="w-full py-2 rounded-lg bg-gradient-to-r from-green-400 to-blue-500 text-white font-semibold hover:opacity-90 transition">
        Sign In â†’
      </button>
    </div>

    <!-- Register Form -->
    <div id="register-form" class="hidden">
      <h2 class="text-center text-xl font-bold text-white mb-4">Create Account</h2>
      <div class="mb-4">
        <input id="reg-email" type="email" placeholder="Username"
          class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-green-400">
      </div>
      <div class="mb-6">
        <input id="reg-password" type="password" placeholder="Password"
          class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-green-400">
      </div>
      <button class="w-full py-2 rounded-lg bg-gradient-to-r from-green-400 to-blue-500 text-white font-semibold hover:opacity-90 transition">
        Register <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right-icon lucide-arrow-right"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
      </button>
    </div>

    <p class="text-center text-sm text-green-400 mt-6"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="oklch(79.2% 0.209 151.711)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-check-big-icon lucide-circle-check-big"><path d="M21.801 10A10 10 0 1 1 17 3.335"/><path d="m9 11 3 3L22 4"/></svg> Secure Authentication </p>
  </div>
</body>
</html>
